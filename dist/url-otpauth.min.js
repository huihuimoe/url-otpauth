(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){(function(global){var _URL=typeof URL!=="undefined"?URL:global.require("url").URL;var ErrorType={INVALID_ISSUER:0,INVALID_LABEL:1,INVALID_PROTOCOL:2,MISSING_ACCOUNT_NAME:3,MISSING_COUNTER:4,MISSING_ISSUER:5,MISSING_SECRET_KEY:6,UNKNOWN_OTP:7,INVALID_DIGITS:8,UNKNOWN_ALGORITHM:9};var PossibleDigits=[6,8];var PossibleAlgorithms=["SHA1","SHA256","SHA512","MD5"];function OtpauthInvalidURL(errorType){this.name="OtpauthInvalidURL";this.message="Given otpauth:// URL is invalid. (Error "+errorType+")";this.errorType=errorType}OtpauthInvalidURL.prototype=new Error;OtpauthInvalidURL.prototype.constructor=OtpauthInvalidURL;module.exports={parse:function parse(rawUrl){var ret={};try{var parsed=new _URL(rawUrl)}catch(error){throw error instanceof TypeError?new OtpauthInvalidURL(ErrorType.INVALID_PROTOCOL):error}if(parsed.protocol!=="otpauth:"){throw new OtpauthInvalidURL(ErrorType.INVALID_PROTOCOL)}parsed.protocol="http";parsed=new _URL(parsed);var otpAlgo=decodeURIComponent(parsed.host);if(otpAlgo!=="hotp"&&otpAlgo!=="totp"){throw new OtpauthInvalidURL(ErrorType.UNKNOWN_OTP)}ret.type=otpAlgo;var label=decodeURIComponent(parsed.pathname.substring(1));var labelComponents=label.split(":");var issuer="";var account="";if(labelComponents.length===1){account=labelComponents[0]}else if(labelComponents.length===2){issuer=labelComponents[0];account=labelComponents[1]}else{throw new OtpauthInvalidURL(ErrorType.INVALID_LABEL)}if(account.length<1){throw new OtpauthInvalidURL(ErrorType.MISSING_ACCOUNT_NAME)}if(labelComponents.length===2&&issuer.length<1){throw new OtpauthInvalidURL(ErrorType.INVALID_ISSUER)}ret.account=account;var parameters=parsed.searchParams;if(!parameters.has("secret")){throw new OtpauthInvalidURL(ErrorType.MISSING_SECRET_KEY)}ret.key=parameters.get("secret");if(parameters.has("issuer")&&issuer&&parameters.get("issuer")!==issuer){throw new OtpauthInvalidURL(ErrorType.INVALID_ISSUER)}ret.issuer=issuer||parameters.get("issuer")||"";ret.digits=6;if(parameters.has("digits")){var parsedDigits=parseInt(parameters.get("digits"),10);if(PossibleDigits.indexOf(parsedDigits)==-1){throw new OtpauthInvalidURL(ErrorType.INVALID_DIGITS)}else{ret.digits=parsedDigits}}if(parameters.has("algorithm")){if(PossibleAlgorithms.indexOf(parameters.get("algorithm"))==-1){throw new OtpauthInvalidURL(ErrorType.UNKNOWN_ALGORITHM)}else{ret.algorithm=parameters.get("algorithm")}}if(otpAlgo==="totp"){if(parameters.has("period")){ret.period=parseFloat(parameters.get("period"))}}if(otpAlgo==="hotp"){if(!parameters.has("counter")){throw new OtpauthInvalidURL(ErrorType.MISSING_COUNTER)}else{ret.counter=parseInt(parameters.get("counter"),10)}}return ret},ErrorType:ErrorType,OtpauthInvalidURL:OtpauthInvalidURL}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1]);